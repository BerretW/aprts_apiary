<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Apiary Ledger</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Google Fonts pro Western styl -->
    <link href="https://fonts.googleapis.com/css2?family=Rye&family=Cormorant+Garamond:ital,wght@0,600;0,700;1,600&family=Homemade+Apple&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    
    <!-- MIKROSKOP OKNO -->
    <div id="microscopeApp" style="display:none;">
        <div class="microscope-paper">
            <h2>Genetick√° Anal√Ωza</h2>
            <div class="chart-container">
                <canvas id="geneticsChart"></canvas>
            </div>
            <div class="gene-details">
                <p>Generace: <span id="geneGen">0</span></p>
                <p>Kvalita: <span id="geneQuality">F</span></p>
            </div>
            <div class="stamp-approved">ANALYZOV√ÅNO</div>
            <button class="close-micro-btn" onclick="closeMicroscope()">Zav≈ô√≠t</button>
        </div>
    </div>

    <!-- KNIHA (HLAVN√ç APP) -->
    <div id="app" style="display:none;">
        
        <!-- Hlavn√≠ kontejner knihy -->
        <div class="ledger-book">
            <div class="book-spine"></div>
            
            <!-- LEV√Å STRANA: SEZNAM A P≈òEHLED -->
            <div class="page page-left">
                <div class="paper-texture"></div>
                
                <header class="page-header">
                    <h1>Vƒçela≈ô≈Øv Den√≠k</h1>
                    <span class="sub-signature">Evidence vƒçelstva & produkce</span>
                    <div class="ink-separator"></div>
                </header>

                <div class="hives-container">
                    <div id="hiveList" class="hive-list">
                        <!-- JS generuje polo≈æky zde -->
                    </div>
                </div>

                <div class="page-footer">
                    <button id="btnBuild" class="action-btn btn-wood" onclick="action('build')">
                        <span class="icon">üî®</span> Zalo≈æit nov√Ω √∫l
                    </button>
                    <div class="capacity-info" id="capacityInfo">Kapacita: 0/4</div>
                </div>
            </div>

            <!-- PRAV√Å STRANA: DETAIL √öLU -->
            <div class="page page-right">
                <div class="paper-texture"></div>
                <button class="close-x" onclick="closeMenu()">‚úï</button>

                <!-- Pokud nen√≠ vybr√°n √∫l -->
                <div id="noSelection" class="empty-state">
                    <div class="sketch-bee">üêù</div>
                    <p>Vyberte √∫l ze seznamu<br>pro proveden√≠ inspekce.</p>
                </div>

                <!-- Detail vybran√©ho √∫lu -->
                <div id="hiveDetails" class="details-content" style="display:none;">
                    
                    <header class="detail-header">
                        <h2 id="detailTitle">√öl ƒå√≠slo 1</h2>
                        <div id="statusStamp" class="stamp">KONTROLA</div>
                    </header>

                    <!-- Statistiky -->
                    <div class="stats-row">
                        <div class="stat-box">
                            <label>Kr√°lovna</label>
                            <span id="lblQueen" class="stat-value">---</span>
                            <small id="lblQueenAge">---</small>
                        </div>
                        <div class="stat-box">
                            <label>Populace</label>
                            <span id="lblPop" class="stat-value">0</span>
                            <small>dƒõlnic</small>
                        </div>
                        <div class="stat-box">
                            <label>Zdrav√≠</label>
                            <div class="health-bar-container">
                                <div id="barHealth" class="health-fill" style="width: 0%"></div>
                            </div>
                            <small id="valHealth">0%</small>
                        </div>
                    </div>

                    <div class="ink-separator-small"></div>

                    <!-- Vizu√°ln√≠ inspekce r√°mk≈Ø -->
                    <div class="inspection-area">
                        <h3>Inspekce R√°mk≈Ø</h3>
                        <div class="hive-box-visual">
                            <div id="visualHive" class="frames-rack">
                                <!-- JS generuje r√°mky -->
                            </div>
                        </div>
                        <div class="frame-legend">
                            <span class="legend-item"><span class="dot full"></span>Pln√Ω</span>
                            <span class="legend-item"><span class="dot active"></span>Pracuje se</span>
                            <span class="legend-item"><span class="dot empty"></span>Pr√°zdn√Ω</span>
                        </div>
                    </div>

                    <!-- Ovl√°dac√≠ panel -->
                    <div class="controls-area">
                        <div class="control-group production">
                            <span class="group-label">Produkce</span>
                            <button id="btnInsertFrame" class="action-btn" onclick="action('insertFrame')">Vlo≈æit R√°m</button>
                            <button id="btnHarvest" class="action-btn btn-gold" onclick="action('harvest')">Vyjmout Med</button>
                        </div>
                        
                        <div class="control-group care">
                            <span class="group-label">P√©ƒçe o √∫l</span>
                            <!-- Tlaƒç√≠tko pro kr√°lovnu nem√° onclick v HTML, nastavuje ho JS -->
                            <button id="btnQueen" class="action-btn">Spr√°va Kr√°lovny</button>
                            <button id="btnCure" class="action-btn btn-red" onclick="action('cure')">Podat L√©k</button>
                        </div>
                        
                        <button id="btnInv" class="action-btn btn-full" onclick="action('openInventory')">üì¶ Otev≈ô√≠t Invent√°≈ô √ölu</button>
                    </div>

                    <!-- NOV√Å SEKCE: LOGY √öLU -->
                    <div class="ink-separator-small"></div>
                    <div class="logs-section">
                        <h3>Den√≠k √ölu</h3>
                        <ul id="hiveLogs" class="logs-list">
                            <!-- JS generuje logy zde -->
                        </ul>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>